<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>S√ºper Matematik Oyunu üéÆ</title>
    <style>
        /* --- TASARIM (CSS) --- */
        body {
            font-family: 'Comic Sans MS', 'Verdana', sans-serif;
            background-color: #4facfe;
            background-image: linear-gradient(to right, #4facfe 0%, #00f2fe 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            color: #333;
            overflow: hidden;
            transition: background-color 0.3s;
        }

        .oyun-kutusu {
            background-color: #fff;
            padding: 40px;
            border-radius: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            text-align: center;
            border: 8px solid #FFD700;
            max-width: 450px;
            width: 90%;
            position: relative;
            z-index: 10;
        }

        h1 { color: #FF6B6B; font-size: 28px; margin-top: 0; }

        .puan-tablosu {
            background: #FFE66D;
            display: inline-block;
            padding: 10px 20px;
            border-radius: 15px;
            font-weight: bold;
            font-size: 20px;
            color: #444;
            margin-bottom: 20px;
            transition: transform 0.2s;
        }

        .soru-alani {
            font-size: 48px;
            font-weight: bold;
            color: #1A535C;
            margin: 20px 0;
            background-color: #F7FFF7;
            padding: 20px;
            border-radius: 15px;
            border: 3px dashed #4ECDC4;
        }

        input[type="number"] {
            font-size: 32px;
            padding: 10px;
            width: 120px;
            text-align: center;
            border: 4px solid #FF6B6B;
            border-radius: 15px;
            outline: none;
            color: #333;
        }
        
        input::-webkit-outer-spin-button,
        input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }

        button {
            background-color: #FF6B6B;
            color: white;
            font-size: 22px;
            padding: 15px 40px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            margin-top: 20px;
            box-shadow: 0 5px #c92a2a;
            font-family: inherit;
            transition: all 0.1s;
        }

        button:active { transform: translateY(4px); box-shadow: 0 1px #c92a2a; }

        .mesaj { font-size: 20px; margin-top: 20px; min-height: 30px; font-weight: bold; }
        .dogru { color: #2ecc71; }
        .yanlis { color: #e74c3c; }

        .footer { margin-top: 20px; font-size: 14px; }
        .footer a { color: #555; text-decoration: none; }

        /* --- G√ñRSEL EFEKTLER --- */
        @keyframes shake {
            0% { transform: translate(1px, 1px) rotate(0deg); }
            10% { transform: translate(-1px, -2px) rotate(-1deg); }
            20% { transform: translate(-3px, 0px) rotate(1deg); }
            30% { transform: translate(3px, 2px) rotate(0deg); }
            40% { transform: translate(1px, -1px) rotate(1deg); }
            50% { transform: translate(-1px, 2px) rotate(-1deg); }
            60% { transform: translate(-3px, 1px) rotate(0deg); }
            70% { transform: translate(3px, 1px) rotate(-1deg); }
            80% { transform: translate(-1px, -1px) rotate(1deg); }
            90% { transform: translate(1px, 2px) rotate(0deg); }
            100% { transform: translate(1px, -2px) rotate(-1deg); }
        }
        .shake-effect {
            animation: shake 0.5s;
            border-color: #ff0000 !important;
        }

        @keyframes pop {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }
        .pop-effect {
            animation: pop 0.3s ease-in-out;
            background-color: #ccffcc !important;
        }

    </style>
</head>
<body>

    <audio id="winSound" src="https://www.soundjay.com/misc/sounds/magic-chime-01.mp3"></audio>
    
    <audio id="failSound" src="https://www.soundjay.com/misc/sounds/cartoon-boing-1.mp3"></audio>

    <div class="oyun-kutusu" id="kutu">
        <h1>üöÄ Matematik Ustasƒ± üöÄ</h1>
        
        <div class="puan-tablosu" id="puanKutusu">
            Puanƒ±n: <span id="skor">0</span> üåü
        </div>

        <div class="soru-alani" id="soru">
            Y√ºkleniyor...
        </div>

        <input type="number" id="cevap" placeholder="?" autocomplete="off">
        <br>
        <button onclick="kontrolEt()">Kontrol Et</button>

        <div class="mesaj" id="bilgiMesaji"></div>

        <div class="footer">
            <a href="index.html">‚¨ÖÔ∏è Ana Sayfaya D√∂n</a>
        </div>
    </div>

    <script>
        /* --- OYUN MANTIƒûI --- */
        let dogruCevap = 0;
        let puan = 0;
        
        const sesDogru = document.getElementById("winSound");
        const sesYanlis = document.getElementById("failSound");
        const oyunKutusu = document.getElementById("kutu");
        const puanKutusu = document.getElementById("puanKutusu");

        function rastgeleSayi(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        function soruUret() {
            oyunKutusu.classList.remove("shake-effect");
            puanKutusu.classList.remove("pop-effect");
            
            const islemler = ['+', '-', 'x', '√∑'];
            const secilenIslem = islemler[rastgeleSayi(0, 3)];
            let sayi1, sayi2;

            if (secilenIslem === '+') {
                sayi1 = rastgeleSayi(1, 50); sayi2 = rastgeleSayi(1, 50);
                dogruCevap = sayi1 + sayi2;
            } else if (secilenIslem === '-') {
                sayi1 = rastgeleSayi(10, 99); sayi2 = rastgeleSayi(1, sayi1);
                dogruCevap = sayi1 - sayi2;
            } else if (secilenIslem === 'x') {
                sayi1 = rastgeleSayi(2, 9); sayi2 = rastgeleSayi(2, 9);
                dogruCevap = sayi1 * sayi2;
            } else if (secilenIslem === '√∑') {
                let bolen = rastgeleSayi(2, 9); let sonuc = rastgeleSayi(2, 9);
                sayi1 = bolen * sonuc; sayi2 = bolen;
                dogruCevap = sonuc;
            }

            document.getElementById('soru').innerText = `${sayi1} ${secilenIslem} ${sayi2} = ?`;
            let inputAlani = document.getElementById('cevap');
            inputAlani.value = '';
            inputAlani.focus();
            document.getElementById('bilgiMesaji').innerText = '';
        }

        function kontrolEt() {
            let kullaniciCevabi = document.getElementById('cevap').value;
            let mesajKutusu = document.getElementById('bilgiMesaji');

            if (kullaniciCevabi === '') return;

            oyunKutusu.classList.remove("shake-effect");
            puanKutusu.classList.remove("pop-effect");
            void oyunKutusu.offsetWidth; 

            if (parseInt(kullaniciCevabi) === dogruCevap) {
                // DOƒûRU
                puan += 10;
                document.getElementById('skor').innerText = puan;
                mesajKutusu.innerText = "M√ºkemmel! Doƒüru Cevap! üéâ";
                mesajKutusu.className = "mesaj dogru";
                
                sesDogru.currentTime = 0;
                sesDogru.play();
                
                puanKutusu.classList.add("pop-effect");

                setTimeout(soruUret, 1500);
            } else {
                // YANLI≈û
                mesajKutusu.innerText = "Hoppala! Tekrar dene bakalƒ±m üôÉ"; // Mesajƒ± da yumu≈üattƒ±m
                mesajKutusu.className = "mesaj yanlis";
                
                sesYanlis.currentTime = 0;
                sesYanlis.play(); // Artƒ±k "Boing" sesi √ßalacak

                oyunKutusu.classList.add("shake-effect");
            }
        }

        document.getElementById('cevap').addEventListener("keypress", function(event) {
            if (event.key === "Enter") kontrolEt();
        });

        soruUret();
    </script>
</body>
</html>
